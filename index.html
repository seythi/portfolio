<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Your page title here :)</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <!-- <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css"> -->

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/prtstyle.css">
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">
  <!-- SCRIPTING
  ––––––––––––––––––––––––––––––––––––––––––––––––––-->
  <script src="jquery.js"></script>
  <script src="jquery.easing.1.3.js" type="text/javascript"></script>
  <script type="text/javascript">
  var active = "none";
  var blocking = false;
    $(document).ready(
      function(){
        $(".initnav").click(function(){
          if((!blocking) && (! $("#buttonbox *").is(":animated")))
          {
            console.log("blocking");
            blocking=true;
            spin();
            pop($(this));
          }
        })
      })
    function pop(selection)
    {
      // if(selection.attr("id") != "gear")
      // {
        
      // }
      var x = 0;
      var stay = false;
      if(active != "none")
      {
        if(selection.attr("id") == "gear" || selection.attr("id") == active)
        {
          stay = true;
        }
        x = 1;
        active = "none";
        popin();
      }
      setTimeout(function(){
      if(!stay)
      {
        spin();
        active = selection.attr("id");
        popout(selection);
        
      }
      else{blocking = false;
      console.log("unblocked");}
    }, 200 + 2800 * x);
    }
    function spin()
    {
      var gear = document.getElementById("gear");
      gear.style.animationPlayState = "running";
      gear.style.WebkitAnimationPlayState = "running";
      setTimeout(function(){
      gear.style.animationPlayState = "paused";
      gear.style.WebkitAnimationPlayState = "paused";
      },3000)
    }
    function hider()
    {
      $(".initnav").animate({
      "width": "0",
      "padding": "0",
      "height": ".8rem",
      "opacity": "0",
    },750);
      popout();
      // $("#hbar").delay(600).animate({
      //   "width":"100%",
      //   "padding":"1rem",
      // },{duration : 750, easing: "easeInOutQuart"});
      // $("#hlabel").delay(900).slideToggle();
      // $("#slideout").delay(1100).animate({
      //   "height":"400px",
      //   "padding":"1rem",
      // },{duration : 750, easing: "easeOutCubic"})
    }
    function popout(selection)
    {
      $("#hlabel").html(selection.attr("id"));
      $("#hbar").delay(500).animate({
        "width":"100%",
      },{duration : 1000, easing: "easeOutBack"});
      $("#hbar").delay(500).animate({
        "padding":["2%", "easeOutExpo"],
        "height": ["10%", "easeOutExpo"],
        "margin-top": ["6%", "easeOutExpo"],
      },{duration : 300, queue:false});
      $("#hlabel").delay(600).slideToggle();
      $("#slideout").delay(1600).animate({
        "height":"80%",
        "padding":"1rem",
      },{duration : 750, easing: "easeOutBack", complete: function(){blocking=false;console.log("unblocked");}})
    }
    function popin(selection)
    {
      $("#slideout").animate({
        "height":"0px",
        "padding":"0rem",
      },{duration : 750, easing: "easeInBack"});
      $("#hlabel").delay(900).slideToggle();
      $("#hbar").delay(1000).animate({
        "width":"0",
        "padding":["0rem", "easeInExpo"],
        "height": ["0rem", "easeInExpo"],
        "margin-top": ["12%", "easeInExpo"],
      },{duration : 1000, easing: "easeInQuad"});
      
      
    }
  </script>

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div id="sidebar">
      <img id="home" src="https://upload.wikimedia.org/wikipedia/commons/2/22/Home_font_awesome.svg" alt="homeicon">
      <!-- <img id="gear" class="initnav" src="https://upload.wikimedia.org/wikipedia/commons/7/77/Gear_icon.svg" alt = "gearicon"> -->
      <img id="gear" class="initnav" src="https://upload.wikimedia.org/wikipedia/commons/9/90/Simpleicons_Interface_gear-wheel-with-cogs.svg" alt = "gearicon">
      <div id="gearplace"></div>
      <button id ="about" class ="initnav">about</button>
      <button id ="projects" class ="initnav">projects</button>
      <button id ="foo" class ="initnav">foo</button>
      <button id ="contact" class ="initnav">contact</button>
    </div>
    <div id="buttonbox">
      
      <div id="hbar">
      <h2 id="hlabel">Foo</h2>
      </div>
      <div id="slideout"><iframe src="bland.html" ></iframe></div>
    </div>
    
  </div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
